name: $(Rev:r:)

jobs:
  - job: Run_My_Pipeline
    timeoutInMinutes: 30
    pool:
      vmImage: macOS-latest

    steps:
      - script: sudo chmod +x scripts/azure-pipelines.sh
        displayName: Grant Shell Permissions

      - script: scripts/azure-pipelines.sh install_flutter
        displayName: Install Flutter

      - script: scripts/azure-pipelines.sh run_unit_tests
        displayName: Run Unit Tests

      - script: scripts/azure-pipelines.sh setup_emulators
        displayName: Setup Emulators     
      
      - script: scripts/azure-pipelines.sh run_integration_tests_android_smartphone
        displayName: Integration Tests - Android SmartPhone

      - script: scripts/azure-pipelines.sh run_integration_tests_android_tablet
        displayName: Integration Tests - Android Tablet

      - script: scripts/azure-pipelines.sh run_integration_tests_iphone
        displayName: Integration Tests - IPhone

      - script: scripts/azure-pipelines.sh run_integration_tests_ipad
        displayName: Integration Tests - IPad
